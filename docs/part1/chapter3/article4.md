---
layout: default
title: List, Dictionary, and Set Comprehensions One-liners
parent: Pythonic Syntax Indentation, Statements, and Blocks
grand_parent: Python Foundations
nav_order: 4
---
# List, Dictionary, and Set Comprehensions: One-liners

When working with Python, you'll often come across situations where you need to perform repetitive tasks, such as creating new lists, dictionaries, or sets based on existing data. Python comprehensions are powerful one-liners that allow you to succinctly and efficiently accomplish these tasks.

## List Comprehensions

List comprehensions provide a concise way to create new lists based on existing ones. They consist of three main parts: the output expression, an input sequence, and an optional condition.

### Syntax

The syntax for a list comprehension is as follows:

```python
new_list = [expression for item in input_list if condition]
```

Let's break down each element of the syntax:

- `new_list`: The list that will be generated by the comprehension.
- `expression`: The expression that defines how each item in the new list will be calculated.
- `item`: A variable representing each item in the input sequence.
- `input_list`: The original list from which the new list is generated.
- `condition` (optional): A condition that filters which items from the input list are included. Only items that evaluate to `True` for the condition are added to the new list.

### Example

Let's assume we have a list of numbers and we want to create a new list with only the even numbers from the original list. Using a list comprehension, we can achieve this in just one line:

```python
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
even_numbers = [num for num in numbers if num % 2 == 0]
```

In this example, `num` is the variable that represents each item in the `numbers` list. The condition `num % 2 == 0` filters out the odd numbers, ensuring that only even numbers are included in the `even_numbers` list.

## Dictionary Comprehensions

Similar to list comprehensions, dictionary comprehensions allow you to create new dictionaries in a compact and readable manner. They follow a similar syntax, but use key-value pairs instead.

### Syntax

The syntax for a dictionary comprehension is as follows:

```python
new_dict = {key_expression: value_expression for item in input_sequence if condition}
```

Here's an explanation of each part of the syntax:

- `new_dict`: The dictionary that will be generated by the comprehension.
- `key_expression`: The expression that determines the key for each item in the new dictionary.
- `value_expression`: The expression that determines the value for each item in the new dictionary.
- `item`: A variable representing each item in the input sequence.
- `input_sequence`: The original sequence from which the new dictionary is generated.
- `condition` (optional): A condition that filters which items from the input sequence are included in the new dictionary.

### Example

Suppose we have a list of names, and we want to create a dictionary where the name is the key and the length of the name is the value. We can accomplish this with a dictionary comprehension:

```python
names = ['Alice', 'Bob', 'Charlie', 'Dave']
name_lengths = {name: len(name) for name in names}
```

In this example, the `name` variable represents each item in the `names` list. The key expression `name` assigns the name itself as the key, and the value expression `len(name)` calculates the length of each name.

## Set Comprehensions

Set comprehensions are another convenient way to create sets based on existing data. They follow a similar syntax to list and dictionary comprehensions, but without the need for key-value pairs.

### Syntax

The syntax for a set comprehension is as follows:

```python
new_set = {expression for item in input_sequence if condition}
```

Here's an explanation of each component of the syntax:

- `new_set`: The set that will be generated by the comprehension.
- `expression`: The expression that determines each item in the new set.
- `item`: A variable representing each item in the input sequence.
- `input_sequence`: The original sequence from which the new set is generated.
- `condition` (optional): A condition that filters which items from the input sequence are included in the new set.

### Example

Let's assume we have a list of numbers, and we want to create a set containing only the squares of those numbers. We can achieve this using a set comprehension:

```python
numbers = [1, 2, 3, 4, 5]
squares = {num ** 2 for num in numbers}
```

In this example, `num` represents each item in the `numbers` list. The expression `num ** 2` calculates the square of each number, and the resulting set `squares` will only contain the unique square values.

## Conclusion

List, dictionary, and set comprehensions are powerful tools in Python that allow you to create new sequences or collections based on existing ones in a concise and efficient way. By using these one-liners, you can write cleaner, more readable code, and save time and effort in everyday coding tasks. So next time you find yourself needing to transform data into a new form, remember the power and simplicity of Python comprehensions.